(this["webpackJsonptest-project"]=this["webpackJsonptest-project"]||[]).push([[0],{125:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(5),a=n(0),s=n(22),c=n(23),i=n(25),o=n(24),u=n(1),l=n.n(u),d=n(11),j=n(12),p=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(i.a)(u,t);var n=Object(o.a)(u);function u(){return Object(s.a)(this,u),n.apply(this,arguments)}return Object(c.a)(u,[{key:"render",value:function(){return this.props.isAuth?Object(a.jsx)(e,Object(r.a)({},this.props)):Object(a.jsx)(d.a,{to:"/login"})}}]),u}(l.a.Component);return Object(j.b)(p)(t)}},126:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(46),a=n(5),s="social-network/dialogs/POST-MESSAGE-TEXT",c={dialogs:[{id:1,name:"Andrew",ava:"https://cdnimg.rg.ru/img/content/132/44/35/vliianie_kofe_d_850.jpg"},{id:2,name:"Alina",ava:"https://bigpicture.ru/wp-content/uploads/2019/04/grandbeauty00.jpg"},{id:3,name:"Dima",ava:"https://i.lb.ua/093/06/5eafcd0924b16.jpeg"},{id:4,name:"Ivan"},{id:5,name:"Konstantin"},{id:6,name:"Vlad"}],messages:[{id:1,messages:"Hi"}]},i=function(e){return{type:s,messageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:1,messages:t.messageBody}])});default:return e}}},13:function(e,t,n){e.exports={wrapp:"Users_wrapp__1yh9_",usersItem:"Users_usersItem__1-50c",wrapImg:"Users_wrapImg__1aesx",info:"Users_info__q7AO_",infoWrap:"Users_infoWrap__1rwuo",usersItemBtn:"Users_usersItemBtn__1-hlO",selectedPageWrap:"Users_selectedPageWrap__1L3kN",selectedPage:"Users_selectedPage__2dDER",pagination:"Users_pagination__3ajkW",paginationBtn:"Users_paginationBtn__3xoxq"}},132:function(e,t,n){e.exports={content:"Profile_content__14YH4"}},134:function(e,t,n){e.exports={wrapper:"Login_wrapper__2SIaq"}},14:function(e,t,n){e.exports={nav:"Navbar_nav__2Yfoh",item:"Navbar_item__37VSS",active:"Navbar_active__EjE5d",itemFriends:"Navbar_itemFriends__1hwoz",friend:"Navbar_friend__1T0DH",name:"Navbar_name__2vf7V",wrapp:"Navbar_wrapp__3UW69",avatar:"Navbar_avatar__3MDWA"}},164:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},26:function(e,t,n){e.exports={img:"ProfileInfo_img__Ung6l",wrap:"ProfileInfo_wrap__1gukg",span:"ProfileInfo_span__3j2f4"}},292:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),s=n.n(a),c=(n(164),n(66)),i=n.n(c),o=n(22),u=n(23),l=n(25),d=n(24),j=(n(168),n(11)),p=(n(169),function(){return Object(r.jsx)("div",{children:"Music"})}),f=(n(170),function(){return Object(r.jsx)("div",{children:"Settings"})}),b=(n(171),function(){return Object(r.jsx)("div",{children:"News"})}),h=n(12),O=n(14),g=n.n(O),m=n(15),v=function(e){return Object(r.jsxs)("div",{className:g.a.friend,children:[Object(r.jsx)("div",{className:g.a.avatar,children:Object(r.jsx)(m.b,{activeClassName:g.a.active,to:"/#",children:Object(r.jsx)("img",{alt:"ca",src:e.src})})}),Object(r.jsx)("div",{className:g.a.name,children:e.name})]})},x=function(e){var t=e.sitebar.friends.map((function(e){return Object(r.jsx)(v,{name:e.name,src:e.ava})}));return Object(r.jsxs)("nav",{className:g.a.nav,children:[Object(r.jsx)("div",{className:"".concat(g.a.item),children:Object(r.jsx)(m.b,{activeClassName:g.a.active,to:"/profile",children:"Profile"})}),Object(r.jsx)("div",{className:g.a.item,children:Object(r.jsx)(m.b,{activeClassName:g.a.active,to:"/dialogs",children:"Messages"})}),Object(r.jsx)("div",{className:g.a.item,children:Object(r.jsx)(m.b,{activeClassName:g.a.active,to:"/news",children:"News"})}),Object(r.jsx)("div",{className:g.a.item,children:Object(r.jsx)(m.b,{activeClassName:g.a.active,to:"/music",children:"Music"})}),Object(r.jsx)("div",{className:g.a.item,children:Object(r.jsx)(m.b,{activeClassName:g.a.active,to:"/settings",children:"Settings"})}),Object(r.jsxs)("div",{className:g.a.itemFriends,children:[Object(r.jsx)(m.b,{activeClassName:g.a.active,to:"/friends",children:"Users"}),Object(r.jsx)("div",{className:g.a.wrapp,children:t})]})]})},_=Object(h.b)((function(e){return{sitebar:e.sitebar}}),(function(e){return{}}))(x),w=n(10),P=n.n(w),N=n(18),S=n(46),y=n(5),k=n(131),C=n.n(k).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4d2cf2d1-aa6d-4471-bfce-e89bac64f124"}}),I={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return C.get("users?page=".concat(e,"&count=").concat(t),{}).then((function(e){return e.data}))},onPageChanged:function(e,t){return C.get("users?page=".concat(e,"&count=").concat(t),{}).then((function(e){return e.data}))},unfollowIsSucces:function(e){return C.delete("follow/".concat(e))},followIsSucces:function(e){return C.post("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method, please use prolifeAPI"),M.getProfile(e)}},M={getProfile:function(e){return C.get("profile/"+e,{}).then((function(e){return e.data}))},getStatus:function(e){return C.get("profile/status/".concat(e))},uptadeStatus:function(e){return C.put("profile/status/",{status:e})}},A=function(){return C.get("auth/me")},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return C.post("auth/login",{email:e,password:t,rememberMe:n})},z=function(){return C.delete("auth/login")},T=function(e,t,n,r){return e.map((function(e){return e[t]===n?Object(y.a)(Object(y.a)({},e),r):e}))},U="social-network/users/FOLLOW",F="social-network/users/UNFOLLOW",D="social-network/users/SET_USERS",L="social-network/users/SET_CURRENT_PAGE",W="social-network/users/SET_TOTAL_COUNT",B="social-network/users/TOGGLE_IS_FETCHING",G="social-network/users/TOGGLE_FOLLOWING_IS_PROGRESS",R={users:[],pageSize:4,totalCount:0,isFetching:!1,pagePortionSize:10,currentPage:1,followingInProgress:[]},H=function(e){return{type:U,userId:e}},q=function(e){return{type:F,userId:e}},V=function(e){return{type:D,users:e}},Y=function(e){return{type:W,count:e}},J=function(e){return{type:B,isFetching:e}},X=function(e,t){return{type:G,isFetching:e,userId:t}},Z=function(){var e=Object(N.a)(P.a.mark((function e(t,n,r,a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(X(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(a(n)),t(X(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(y.a)(Object(y.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(y.a)(Object(y.a)({},e),{},{sub:!0}):e}))});case F:return Object(y.a)(Object(y.a)({},e),{},{users:T(e.users,"id",t.userId,{sub:!1})});case D:return Object(y.a)(Object(y.a)({},e),{},{users:t.users});case L:return Object(y.a)(Object(y.a)({},e),{},{currentPage:t.currentPage});case W:return Object(y.a)(Object(y.a)({},e),{},{totalCount:t.count});case B:return Object(y.a)(Object(y.a)({},e),{},{isFetching:t.isFetching});case G:return Object(y.a)(Object(y.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(S.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter((function(e){return e!=t.userId}))]});default:return e}},Q=n(57),$=n(13),ee=n.n($),te=function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);var c=Math.ceil(t/e.pagePortionSize),i=Object(a.useState)(1),o=Object(Q.a)(i,2),u=o[0],l=o[1],d=(u-1)*e.pagePortionSize+1,j=u*e.pagePortionSize;return Object(r.jsxs)("div",{className:ee.a.pagination,children:[Object(r.jsx)("button",{className:ee.a.paginationBtn,onClick:function(){return l(1===u?c:u-1)},children:"Prev"}),Object(r.jsx)("div",{className:ee.a.selectedPageWrap,children:n.filter((function(e){return e>=d&&e<=j})).map((function(t){return Object(r.jsx)("div",{className:e.currentPage===t&&ee.a.selectedPage,onClick:function(n){e.onPageChanged(t)},children:t},t)}))}),Object(r.jsx)("button",{className:ee.a.paginationBtn,onClick:function(){return l(u===c?c=1:u+1)},children:"Next"})]})},ne=function(e){return Object(r.jsxs)("div",{className:ee.a.wrapp,children:[Object(r.jsx)("div",{children:Object(r.jsx)(te,{totalCount:e.totalCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,pagePortionSize:e.portionSize})}),e.users.map((function(t){return Object(r.jsxs)("div",{className:ee.a.usersItem,children:[Object(r.jsxs)("div",{className:"s.usersItem-ava",children:[Object(r.jsx)("div",{className:ee.a.wrapImg,children:Object(r.jsx)(m.b,{to:"/profile/"+t.id,children:Object(r.jsx)("img",{alt:"ava",src:null!=t.photos.small?t.photos.small:"https://pngimg.com/uploads/face/face_PNG5669.png"})})}),t.sub?Object(r.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},className:ee.a.usersItemBtn,children:"Unfollow"}):Object(r.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},className:ee.a.usersItemBtn,children:"Follow"})]}),Object(r.jsxs)("div",{className:ee.a.info,children:[Object(r.jsxs)("div",{className:ee.a.infoWrap,children:[Object(r.jsx)("span",{className:ee.a.name,children:t.name}),Object(r.jsx)("span",{className:ee.a.status,children:t.status})]}),Object(r.jsxs)("div",{className:ee.a.infoWrap,children:[Object(r.jsx)("span",{className:ee.a.country,children:"u.location.country"}),Object(r.jsx)("span",{className:ee.a.sity,children:"u.location.sity"})]})]})]},t.id)}))]})},re=n(9),ae=n.p+"static/media/25.e88c5d6a.svg",se=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{alt:"isfetching",src:ae})})},ce=(n(194),function(e){return e.usersPage.users}),ie=function(e){return e.usersPage.pageSize},oe=function(e){return e.usersPage.totalCount},ue=function(e){return e.usersPage.currentPage},le=function(e){return e.usersPage.isFetching},de=function(e){return e.usersPage.followingInProgress},je=function(e){return e.usersPage.pagePortionSize},pe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.onPageChanged(t,e.props.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[this.props.isFetching?Object(r.jsx)(se,{}):null,Object(r.jsx)(ne,{onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,totalCount:this.props.totalCount,pageSize:this.props.pageSize,z:!0,currentPage:this.props.currentPage,followingInProgress:this.props.followingInProgress,portionSize:this.props.pagePortionSize})]})}}]),n}(s.a.Component),fe=Object(re.d)(Object(h.b)((function(e){return{users:ce(e),pageSize:ie(e),totalCount:oe(e),currentPage:ue(e),isFetching:le(e),pagePortionSize:je(e),followingInProgress:de(e)}}),{follow:function(e){return function(){var t=Object(N.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Z(n,e,I.followIsSucces.bind(I),H);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(N.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Z(n,e,I.followIsSucces.bind(I),q);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setTotalUsersCount:Y,toogleFollowingInProgress:X,requestUsers:function(e,t){return function(){var n=Object(N.a)(P.a.mark((function n(r){var a;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(J(!0)),n.next=3,I.getUsers(e,t);case 3:a=n.sent,r(J(!1)),r(V(a.items)),r(Y(a.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},onPageChanged:function(e,t){return function(){var n=Object(N.a)(P.a.mark((function n(r){var a;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(J(!0)),r({type:L,currentPage:e}),n.next=4,I.onPageChanged(e,t);case 4:a=n.sent,r(J(!1)),r(V(a.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(pe),be=n(132),he=n.n(be),Oe=n(26),ge=n.n(Oe),me=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.props.updateStatus(e.state.status),e.setState({editMode:!1})},e.updateStatusText=function(t){e.setState({status:t.currentTarget.value})},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(r.jsx)("div",{children:this.state.editMode?Object(r.jsx)("div",{children:Object(r.jsx)("input",{onChange:this.updateStatusText,onBlur:this.deactivateEditMode,value:this.state.status})}):Object(r.jsx)("div",{className:ge.a.blockSpan,children:Object(r.jsx)("span",{className:ge.a.span,onDoubleClick:this.activateEditMode,children:this.props.status||"no status"})})})}}]),n}(s.a.Component),ve=function(e){return e.profile?Object(r.jsxs)("div",{className:ge.a.profileInfo,children:[Object(r.jsx)("div",{className:ge.a.img,children:Object(r.jsx)("img",{src:"https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350"})}),Object(r.jsxs)("div",{className:ge.a.wrap,children:[Object(r.jsx)("img",{className:ge.a.ava,src:e.profile.photos.large}),Object(r.jsx)(me,{status:e.status,updateStatus:e.updateStatus}),Object(r.jsx)("div",{className:ge.a.description,children:e.profile.aboutMe}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object(r.jsx)("div",{children:e.profile.contacts.facebook}),Object(r.jsx)("div",{children:e.profile.contacts.vk}),Object(r.jsx)("div",{children:e.profile.contacts.twitter}),Object(r.jsx)("div",{children:e.profile.contacts.instagram}),Object(r.jsx)("div",{children:e.profile.contacts.github})]})]})]}):Object(r.jsx)(se,{})},xe="social-network/profile/ADD-POST",_e="social-network/profile/SET-USER-PROFILE",we="social-network/profile/SET_STATUS",Pe="social-network/profile/DELETE_POST",Ne={postsData:[{id:1,messages:"hello",likesCount:0}],profile:null,status:null},Se=function(e){return{type:we,status:e}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:var n={messages:t.myPostProfile,likesCount:0};return Object(y.a)(Object(y.a)({},e),{},{postsData:[].concat(Object(S.a)(e.postsData),[n])});case _e:return Object(y.a)(Object(y.a)({},e),{},{profile:t.profile});case we:return Object(y.a)(Object(y.a)({},e),{},{status:t.status});case Pe:return Object(y.a)(Object(y.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!=t.idPost}))});default:return e}},ke=n(127),Ce=n(128),Ie=n(39),Me=n.n(Ie),Ae=n(71),Ee=n.n(Ae),ze=function(e){return Object(r.jsxs)("div",{className:Ee.a.item,children:[Object(r.jsx)("img",{className:Ee.a.avatar,src:"https://www.kinonews.ru/insimgs/poster/thumbs/poster9623_1.jpg",alt:"avatar"}),e.message,Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:Ee.a.like,src:"https://cdn0.iconfinder.com/data/icons/e-commerce-207/1024/like-512.png",alt:"like"}),e.LikeCount]})]})},Te=n(33),Ue=n(67),Fe=Object(Te.a)(10),De=Object(Ue.a)("textarea"),Le=Object(Ce.a)({form:"myPostProfile"})((function(e){return Object(r.jsxs)("form",{className:Me.a.form,onSubmit:e.handleSubmit,children:[Object(r.jsx)(ke.a,{typeField:"input",validate:[Te.b,Fe],className:Me.a.textArea,placeholder:"Write your post",name:"MyPost",component:De}),Object(r.jsx)("button",{className:Me.a.button,children:"Add post"})]})})),We=function(e){var t=e.profilePage.map((function(e){return Object(r.jsx)(ze,{message:e.messages,LikeCount:e.likesCount},e.id)}));return Object(r.jsxs)("div",{className:Me.a.myPosts,children:[Object(r.jsx)("h3",{children:"My posts"}),Object(r.jsx)("div",{className:Me.a.wrap,children:Object(r.jsx)(Le,{onSubmit:function(t){e.addPost(t.MyPost)}})}),Object(r.jsx)("div",{className:Me.a.posts,children:t})]})},Be=Object(h.b)((function(e){return{profilePage:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),{addPost:function(e){return{type:xe,myPostProfile:e}}})(We),Ge=function(e){return Object(r.jsxs)("div",{className:he.a.content,children:[Object(r.jsx)(ve,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(r.jsx)(Be,{store:e.store})]})},Re=n(125),He=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId),this.props.getProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(Ge,Object(y.a)({},this.props))})}}]),n}(s.a.Component),qe=Object(re.d)(Object(h.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfile:function(e){return function(){var t=Object(N.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.getProfile(e);case 2:r=t.sent,n({type:_e,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(N.a)(P.a.mark((function t(n){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.getStatus(e);case 2:r=t.sent,n(Se(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(N.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.uptadeStatus(e);case 2:0===t.sent.data.resultCode&&n(Se(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Re.a,j.f)(He),Ve=n(73),Ye=n.n(Ve),Je=n.p+"static/media/Sabine.d747fc53.png",Xe=function(e){return Object(r.jsxs)("header",{className:Ye.a.header,children:[Object(r.jsx)("img",{src:Je}),Object(r.jsx)("div",{className:Ye.a.login,children:!0===e.isAuth?Object(r.jsxs)("div",{className:Ye.a.logout,children:[e.login,Object(r.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(r.jsx)(m.b,{to:"login",children:"Login"})})]})},Ze=n(41),Ke="social-network/auth/SET_USER_DATA",Qe={userId:null,email:null,login:null,isAuth:!1},$e=function(e,t,n,r){return{type:Ke,payload:{userId:e,email:t,login:n,isAuth:r}}},et=function(){return function(){var e=Object(N.a)(P.a.mark((function e(t){var n,r,a,s,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,s=r.login,c=r.email,t($e(a,c,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return Object(y.a)(Object(y.a)({},e),t.payload);default:return e}},nt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)(Xe,Object(y.a)({},this.props))}}]),n}(s.a.Component),rt=Object(h.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(N.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:0===e.sent.data.resultCode&&t($e(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(nt),at=n(134),st=n.n(at),ct=n(47),it=n.n(ct),ot=Object(Te.a)(40),ut=Object(Ue.a)("input"),lt=function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(ke.a,{component:ut,validate:[Te.b,ot],name:"email",placeholder:"Login",type:"text"})}),Object(r.jsx)("div",{children:Object(r.jsx)(ke.a,{component:ut,validate:[Te.b,ot],name:"password",placeholder:"Password",type:"password"})}),Object(r.jsx)("div",{className:it.a.errorMessage,children:e.error}),Object(r.jsxs)("div",{children:[Object(r.jsx)(ke.a,{component:ut,name:"rememberMe",type:"checkbox"})," remember me"]}),Object(r.jsx)("button",{children:"Login"})]})})},dt=Object(Ce.a)({form:"login"})(lt),jt=Object(h.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(N.a)(P.a.mark((function r(a){var s,c;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E(e,t,n);case 2:0===(s=r.sent).data.resultCode?a(et()):(c=s.data.messages.length>0?s.data.messages[0]:"You filled out the form incorrectly!!!",a(Object(Ze.a)("login",{_error:c})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(r.jsx)(j.a,{to:"profile"}):Object(r.jsxs)("div",{className:st.a.wrapper,children:[Object(r.jsx)("h2",{children:"Login"}),Object(r.jsx)(dt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),pt="social-network/app/SET_INITIALIZED_APP",ft={initialized:!1},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return Object(y.a)(Object(y.a)({},e),{},{initialized:!0});default:return e}},ht=n(126),Ot={friends:[]},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;return e},mt=n(135),vt=n(129),xt=Object(re.c)({profilePage:ye,dialogsPage:ht.a,sitebar:gt,usersPage:K,auth:tt,form:vt.a,app:bt}),_t=Object(re.e)(xt,Object(re.a)(mt.a));window.store=_t;var wt=_t,Pt=s.a.lazy((function(){return n.e(3).then(n.bind(null,294))})),Nt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializedData()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(rt,{}),Object(r.jsx)(_,{}),Object(r.jsxs)("div",{className:"app-wrapper__content",children:[Object(r.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(qe,{})}}),Object(r.jsx)(j.b,{path:"/dialogs",render:function(){return Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)(se,{}),children:Object(r.jsx)(Pt,{})})}}),Object(r.jsx)(j.b,{path:"/news",render:function(){return Object(r.jsx)(b,{})}}),Object(r.jsx)(j.b,{path:"/music",render:function(){return Object(r.jsx)(p,{})}}),Object(r.jsx)(j.b,{path:"/settings",render:function(){return Object(r.jsx)(f,{})}}),Object(r.jsx)(j.b,{path:"/friends",render:function(){return Object(r.jsx)(fe,{})}}),Object(r.jsx)(j.b,{path:"/login",render:function(){return Object(r.jsx)(jt,{})}})]})]}):Object(r.jsx)(se,{})}}]),n}(s.a.Component),St=Object(re.d)(j.f,Object(h.b)((function(e){return{initialized:e.app.initialized}}),{initializedData:function(){return function(e){e(et()).then((function(){e({type:pt})}))}}}))(Nt),yt=function(e){return Object(r.jsx)(m.a,{basename:"/camasutra-socia.git.io",children:Object(r.jsx)(h.a,{store:wt,children:Object(r.jsx)(St,{})})})};i.a.render(Object(r.jsx)(yt,{}),document.getElementById("root"))},33:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Feld is required"},a=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}},39:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__2oac5",form:"MyPosts_form__5gH4r",button:"MyPosts_button__3fPnX",textArea:"MyPosts_textArea__2NIb6"}},47:function(e,t,n){e.exports={formControl:"FormsControl_formControl__1qwEw",errorMessage:"FormsControl_errorMessage__2cxwU",error:"FormsControl_error__18iIP",errorMassage:"FormsControl_errorMassage__ZMMaZ"}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n(5),s=n(136),c=(n(1),n(47)),i=n.n(c),o=function(e){return function(t){var n=t.input,c=t.meta,o=Object(s.a)(t,["input","meta"]),u=c.touched&&c.error;return Object(r.jsxs)("div",{className:i.a.formControl+" "+(u?i.a.error:""),children:[Object(r.jsx)(e,Object(a.a)(Object(a.a)({},o),n)),u?Object(r.jsx)("span",{className:i.a.errorMassage,children:c.error}):""]})}}},71:function(e,t,n){e.exports={item:"Post_item__SxVks",avatar:"Post_avatar__3SXz4",like:"Post_like__vjtC3"}},73:function(e,t,n){e.exports={header:"Header_header__1DeJu",login:"Header_login__1F8Nt",logout:"Header_logout__2_39a"}}},[[292,1,2]]]);
//# sourceMappingURL=main.82b4459d.chunk.js.map